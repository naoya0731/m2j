{"attributes":{"title":"Canvas","category":"JavaScript"},"body":"\n### Getting the context\n\n    var canvas = document.getElementById('c');\n    var c = canvas.getContext(\"2d\");\n\n### Basic drawing\n\n    // x = 10, y = 20, width = 200, height = 100\n    c.fillStyle = '#ff0000';\n    c.strokeStyle = '#ff00ff';\n\n    c.lineWidth = 5;\n    c.lineCap = 'round';\n\n    c.fillRect(10, 20, 200, 100);\n\n    c.stroke();\n    c.fill();\n\n### Saving and restoring\n\n    c.save();\n\n    // Saves:\n    // strokeStyle fillStyle globalAlpha lineWidth lineCap lineJoin miterLimit \n    // shadowOffsetX shadowOffsetY shadowBlur shadowColor\n    // globalCompositeOperation\n    // Transformations: translate rotate scale transform setTransform\n    // Clipping path\n\n    c.restore();\n\n### Animation\n\n    onframe: function() {\n      c.clearRect(0, 0, w, h);\n    }\n\n### Transformations\n\n    c.translate(0, 0)\n    c.rotate(Math.PI*2/5)\n    c.scale(1.0, 1.0)\n\nTo rotate along origin:\n\n    c.translate(ox, oy)\n    c.rotate(theta)\n    c.translate(-ox, -oy)\n\nTo scale along origin:\n\n    c.translate(-ox*x, -oy*y)\n    c.scale(x, y)\n    c.translate(ox/x, oy/y)\n\nSee [MDN: Transformations][xform].\n\n### Image drawing\n\n    c.drawImage(image, dx, dy, [dw, dh]);\n    /* `image` can be HTML Image/Canvas/Video */\n\nSee [MDN: Images][images].\n\n### Colors, styles shadows\n\n    c.strokeStyle = '#ff00ff';\n    c.fillStyle = '#ff00ff';\n\n    c.shadowOffsetX = 0;\n    c.shadowOffsetY = 0;\n    c.shadowOffsetBlur = 3.0;\n    c.shadowColor = 'rgba(0,0,0,0.2)';\n\nSee [MDN: Styles][styles].\n\n### Gradients\n\n    gr = c.createLinearGgadient(x0,y0,x1,y1)\n    gr = c.createRadialGradient(x0,y0,r0,x1,y1,r1)\n    pat = c.createPattern(image, 'repeat-x')\n\n    c.fillStyle = gr\n\n### Drawing\n\n    c.beginPath()\n    c.moveTo(x,y)\n    c.lineTo(x,y)\n    c.quadraticCurveTo(cpx,cpy,x,y)\n    c.bezierCurveTo(cp1x,cp1y,cp2x,cp2y)\n    c.arcTo(...)\n    c.arc(...)\n    c.closePath()\n\n### More resources\n\n  * [Canvas Cheatsheet PDF][pdf]\n\n[pdf]: http://www.nihilogic.dk/labs/canvas_sheet/HTML5_Canvas_Cheat_Sheet.pdf\n[xform]: https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Transformations\n[styles]: https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Applying_styles_and_colors\n[images]: https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Using_images\n","html":"<h3 id=\"getting-the-context\">Getting the context</h3>\n<pre><code>var canvas = document.getElementById(&#39;c&#39;);\nvar c = canvas.getContext(&quot;2d&quot;);\n</code></pre><h3 id=\"basic-drawing\">Basic drawing</h3>\n<pre><code>// x = 10, y = 20, width = 200, height = 100\nc.fillStyle = &#39;#ff0000&#39;;\nc.strokeStyle = &#39;#ff00ff&#39;;\n\nc.lineWidth = 5;\nc.lineCap = &#39;round&#39;;\n\nc.fillRect(10, 20, 200, 100);\n\nc.stroke();\nc.fill();\n</code></pre><h3 id=\"saving-and-restoring\">Saving and restoring</h3>\n<pre><code>c.save();\n\n// Saves:\n// strokeStyle fillStyle globalAlpha lineWidth lineCap lineJoin miterLimit \n// shadowOffsetX shadowOffsetY shadowBlur shadowColor\n// globalCompositeOperation\n// Transformations: translate rotate scale transform setTransform\n// Clipping path\n\nc.restore();\n</code></pre><h3 id=\"animation\">Animation</h3>\n<pre><code>onframe: function() {\n  c.clearRect(0, 0, w, h);\n}\n</code></pre><h3 id=\"transformations\">Transformations</h3>\n<pre><code>c.translate(0, 0)\nc.rotate(Math.PI*2/5)\nc.scale(1.0, 1.0)\n</code></pre><p>To rotate along origin:</p>\n<pre><code>c.translate(ox, oy)\nc.rotate(theta)\nc.translate(-ox, -oy)\n</code></pre><p>To scale along origin:</p>\n<pre><code>c.translate(-ox*x, -oy*y)\nc.scale(x, y)\nc.translate(ox/x, oy/y)\n</code></pre><p>See <a href=\"https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Transformations\">MDN: Transformations</a>.</p>\n<h3 id=\"image-drawing\">Image drawing</h3>\n<pre><code>c.drawImage(image, dx, dy, [dw, dh]);\n/* `image` can be HTML Image/Canvas/Video */\n</code></pre><p>See <a href=\"https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Using_images\">MDN: Images</a>.</p>\n<h3 id=\"colors-styles-shadows\">Colors, styles shadows</h3>\n<pre><code>c.strokeStyle = &#39;#ff00ff&#39;;\nc.fillStyle = &#39;#ff00ff&#39;;\n\nc.shadowOffsetX = 0;\nc.shadowOffsetY = 0;\nc.shadowOffsetBlur = 3.0;\nc.shadowColor = &#39;rgba(0,0,0,0.2)&#39;;\n</code></pre><p>See <a href=\"https://developer.mozilla.org/en-US/docs/Canvas_tutorial/Applying_styles_and_colors\">MDN: Styles</a>.</p>\n<h3 id=\"gradients\">Gradients</h3>\n<pre><code>gr = c.createLinearGgadient(x0,y0,x1,y1)\ngr = c.createRadialGradient(x0,y0,r0,x1,y1,r1)\npat = c.createPattern(image, &#39;repeat-x&#39;)\n\nc.fillStyle = gr\n</code></pre><h3 id=\"drawing\">Drawing</h3>\n<pre><code>c.beginPath()\nc.moveTo(x,y)\nc.lineTo(x,y)\nc.quadraticCurveTo(cpx,cpy,x,y)\nc.bezierCurveTo(cp1x,cp1y,cp2x,cp2y)\nc.arcTo(...)\nc.arc(...)\nc.closePath()\n</code></pre><h3 id=\"more-resources\">More resources</h3>\n<ul>\n<li><a href=\"http://www.nihilogic.dk/labs/canvas_sheet/HTML5_Canvas_Cheat_Sheet.pdf\">Canvas Cheatsheet PDF</a></li>\n</ul>\n"}